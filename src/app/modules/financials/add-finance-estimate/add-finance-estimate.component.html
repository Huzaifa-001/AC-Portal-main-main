<div class="estimate-modal">
  <form [formGroup]="estimateForm" (ngSubmit)="submitForm()">
    <!-- Header Section -->
    <div class="header">
      <h3>Add Estimate</h3>
      <div class="form-group">
        <label for="estimateNumber">Estimate #</label>
        <input
          id="estimateNumber"
          type="text"
          formControlName="estimateNumber"
        />
      </div>
      <div class="form-group">
        <label for="date">Date</label>
        <input id="date" type="date" formControlName="date" />
      </div>
    </div>

    <!-- Customer Info Section -->
    <div class="customer-info">
      <label for="customerInfo">Customer Info</label>
      <textarea id="customerInfo" formControlName="customerInfo"></textarea>
    </div>

    <!-- Items Section -->
    <div class="items">
      <h4>Items</h4>
      <div formArrayName="items">
        <div
          *ngFor="let item of items.controls; let i = index"
          [formGroupName]="i"
          class="item-row"
        >
          <input
            type="text"
            placeholder="Item Name"
            formControlName="itemName"
          />
          <input
            type="text"
            placeholder="Description"
            formControlName="description"
          />
          <input type="number" placeholder="Qty" formControlName="quantity" />
          <input type="number" placeholder="Price" formControlName="price" />
          <input type="number" placeholder="Amount" formControlName="amount" />
          <button type="button" (click)="removeItem(i)">Remove</button>
        </div>
      </div>
      <button type="button" (click)="addItem()">+ Add Item</button>
    </div>

    <!-- Summary Section -->
    <div class="summary">
      <div class="form-group">
        <label for="subtotal">Subtotal</label>
        <input id="subtotal" type="number" formControlName="subtotal" />
      </div>
      <div class="form-group">
        <label for="tax">Tax</label>
        <input id="tax" type="number" formControlName="tax" />
      </div>
      <div class="form-group">
        <label for="total">Total</label>
        <input id="total" type="number" formControlName="total" />
      </div>
    </div>

    <!-- Footer Section -->
    <div class="footer">
      <button type="submit" [disabled]="!estimateForm.valid">Save</button>
      <button type="button">Cancel</button>
    </div>
  </form>
</div>
