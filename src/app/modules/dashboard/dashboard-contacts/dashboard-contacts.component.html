<div class="card">
    <div class="card-header">
        <div class="card-title">Contacts</div>
        <div class="d-flex btns-group">
            <button class="btn btn-primary" (click)="openAddContactModal(null)">
                <div class="d-flex align-items-center">
                    <i class="material-symbols-outlined">add</i>
                    <span>Add Contacts</span>
                </div>
            </button>
        </div>
    </div>
    <div class="card-body">
        <table class="table" #contactsTable>
            <thead>
                <tr>
                    <th (click)="onContactSort('firstName')"
                        class="custom-sort-column">
                        Contact Name
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'firstName' && ContactSortOrder === 'asc'">arrow_upward</mat-icon>
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'firstName' && ContactSortOrder === 'desc'">arrow_downward</mat-icon>

                    </th>
                    <th (click)="onContactSort('workFlow.workFlowName')"
                        class="custom-sort-column">
                        WorkFlow
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'workFlow.workFlowName' && ContactSortOrder === 'asc'">arrow_upward</mat-icon>
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'workFlow.workFlowName' && ContactSortOrder === 'desc'">arrow_downward</mat-icon>
                    </th>
                    <th (click)="onContactSort('status.statusName')"
                        class="custom-sort-column">
                        Status
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'status.statusName' && ContactSortOrder === 'asc'">arrow_upward</mat-icon>
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'status.statusName' && ContactSortOrder === 'desc'">arrow_downward</mat-icon>
                    </th>
                    <th (click)="onContactSort('salesRep.name')"
                        class="custom-sort-column">
                        Sales
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'salesRep.name' && ContactSortOrder === 'asc'">arrow_upward</mat-icon>
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'salesRep.name' && ContactSortOrder === 'desc'">arrow_downward</mat-icon>
                    </th>
                    <th>
                        Assign To
                        <!-- <mat-icon class="custom-icon-sort" *ngIf="ContactSortField === 'firstName' && ContactSortOrder === 'asc'">arrow_upward</mat-icon>
              <mat-icon class="custom-icon-sort" *ngIf="ContactSortField === 'firstName' && ContactSortOrder === 'desc'">arrow_downward</mat-icon> -->
                    </th>
                    <th (click)="onContactSort('city')"
                        class="custom-sort-column">
                        Address & Info
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'city' && ContactSortOrder === 'asc'">arrow_upward</mat-icon>
                        <mat-icon class="custom-icon-sort"
                            *ngIf="ContactSortField === 'city' && ContactSortOrder === 'desc'">arrow_downward</mat-icon>
                    </th>
                    <th>Actions</th>
                    <!-- <th>Notes</th>
                              <th>Action</th> -->
                </tr>
            </thead>
            <tbody>
                <!--  -->
                <tr
                    *ngFor="let contact of (contacts | customSort: ContactSortField: ContactSortOrder)">
                    <td (click)="redirectContact(contact)"
                        style="cursor: pointer">
                        {{ contact.firstName + " " + contact.lastName }}
                        <!-- <div class="d-flex text-muted">Mon Nov 8, 1:00PM - 2:30PM
                                  </div> -->
                    </td>
                    <td (click)="redirectContact(contact)"
                        style="cursor: pointer">
                        {{ contact.workFlow?.workFlowName }}
                    </td>

                    <td (click)="redirectContact(contact)"
                        style="cursor: pointer">
                        <div class="d-flex">
                            <!-- <i class="material-symbols-outlined text-success icon-size-dot">
                  radio_button_checked
                </i> -->
                            &nbsp; {{ contact.status.statusName }}
                        </div>
                    </td>
                    <td (click)="redirectContact(contact)"
                        style="cursor: pointer">
                        {{ contact?.salesRep?.name }}
                    </td>
                    <td (click)="redirectContact(contact)"
                        style="cursor: pointer">
                        <div class="avatar-group">
                            <div data-bs-toggle="tooltip"
                                data-popup="tooltip-custom"
                                data-bs-placement="top"
                                class="avatar pull-up my-0" title=""
                                data-bs-original-title="Lilian Nenez">
                                <img src="../assets/images/sm-5.jpeg"
                                    alt="Avatar" height="26" width="26" />
                            </div>
                            <div data-bs-toggle="tooltip"
                                data-popup="tooltip-custom"
                                data-bs-placement="top"
                                class="avatar pull-up my-0" title=""
                                data-bs-original-title="Alberto Glotzbach">
                                <img src="../assets/images/sm-6.jpeg"
                                    alt="Avatar" height="26" width="26" />
                            </div>
                            <div data-bs-toggle="tooltip"
                                data-popup="tooltip-custom"
                                data-bs-placement="top"
                                class="avatar pull-up my-0" title=""
                                data-bs-original-title="Alberto Glotzbach">
                                <img src="../assets/images/sm-5.jpeg"
                                    alt="Avatar" height="26" width="26" />
                            </div>
                        </div>
                    </td>
                    <td (click)="redirectContact(contact)"
                        style="cursor: pointer">
                        {{ contact.addressLine1 + "," + contact.city }}
                    </td>
                    <td>
                        <mat-menu #menu="matMenu" class="dropdown">
                            <button mat-menu-item
                                (click)="openAddContactModal(contact)">
                                <mat-icon
                                    class="material-symbols-outlined">border_color</mat-icon>
                                <span>Edit</span>
                            </button>
                            <button mat-menu-item
                                (click)="deleteContact(contact)"
                                class="btn btn-sm dropdown-toggle hide-arrow">
                                <mat-icon>delete</mat-icon>
                                <span>Delete</span>
                            </button>
                        </mat-menu>

                        <button mat-icon-button [matMenuTriggerFor]="menu"
                            class="btn btn-sm dropdown-toggle hide-arrow">
                            <mat-icon
                                class="material-symbols-outlined">more_vert</mat-icon>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <app-pagination [currentPageIndex]="ContactCurrentPageIndex"
        [totalCount]="ContactTotalCount"
        (pageChange)="loadContactPagedData($event)"></app-pagination>
</div>
<div class="py-4 w-100"></div>